# 笔记

## 客户端和服务器的基本概念

- 上网的目的：
  - 获取和使用(消费)资源
- 客户端和服务器(服务端)
  - 客户端：
    - 客户指的是使用服务的人，客户端指的是**使用服务**的计算机
    - 如果一台计算机希望成为客户端，必须安装浏览器
  - 服务端：
    - 指的是**提供服务**的计算机
    - 如果一台计算机希望成为服务端，必须**安装特定的服务端软件**即可

## URL的基本概念

- URL概念：统一资源定位符 （UniformResourceLocator）
  - 俗称网址，用来标识某个资源在网络中的唯一位置。
- 组成部分：
  - 示例网址：<https://detail.tmall.com/item.htm?id=555428842095&spm=a310p.7395781.1998038982.3>
  - 通信协议： https://
  - 域名（服务器地址）： detail.tmall.com
  - 资源的具体位置：  /item.htm?id=555428842095&spm=a310p.7395781.1998038982.3



## 请求和响应的流程

- 任意的一次网络访问(访问网站根目录、img加载、audio加载、link标签....)都是下面的3个步骤
- 步骤
  - 1 **请求：客户端请求服务器**
  - 2 处理：服务器的内部处理（找找资源等..）
  - **3 响应：服务器响应客户端**



### 浏览器的network面板的使用

> network用来检测浏览器发出的每次**请求**以及**响应**内容

- 可以使用：<http://ntlias3.boxuegu.com/> 网站进行尝试

- 打开方式：浏览器 -> F12 -> Network -> 进行操作
  - 左侧为所有请求的请求列表
  - 顶部具有请求的筛选功能
  - 选择某一条请求后，可以查看请求的具体内容
    - request 请求
    - response 响应

## 网站中的资源

- 常见资源为：图片、文字、音视频、css文件...
- 核心资源：数据（根据数据生成页面结构可以让页面制作变简便，维护成本降低）
- 与htmlcssjs的关系
  - html是网页的结构、骨架
  - css是网页的样式、颜值
  - js是网页的行为、控制交互
  - **数据是网页灵魂**

## 资源的请求方式get post

- 请求类型
  - **语义的区别**
    - get 用来进行**获取资源**的请求操作
      - 获取图片、音视频、js文件、css文件、地址栏输入地址回车，location.href，a标签跳转。。。
    - post 用来进行**发送资源**的请求操作
      - 表单提交form标签（get、post均可，可以自己选择）
      - ajax也可以发送get和post请求（新内容）
  - **可发送数据大小有区别**
    - get请求受限制于浏览器对url的限制，2M左右
    - post请求理论上无大小限制，受限制与服务端实际的需求和处理能力
  - **可发送的数据格式有区别**
    - get请求只能发送文本格式数据
    - post请求不限制发送的数据格式，服务器会根据业务需求进行处理

### 复习之前使用过的请求发送方式

- 地址栏
- a标签
- location.href
- img.src  link.href 我们无法进行干预
- form+submit

> 上面是我们学习过的发送请求的方式，统一特点：**都会出现跳转(有的是我们无法干预的)**
>
> 实际页面功能制作时，很多的功能虽然请求了新的数据，但是并没有出现跳转
>
> 小结论：
>
> ​	传统的请求方式无法满足现代网页的所有功能，就需要使用新的请求方式了，新的请求方式称为AJAX。

## AJAX简介

> Ajax（**Async**hronous Javascript And XML（异步 JavaScript 和 XML））

- 作用：用来发送请求的一种方式
- 实现方式简介：浏览器提供了一个XMLHttpRequest的构造函数，创建的对象用来进行ajax操作
  - 为了让大家更好的理解ajax的使用，先讲jQuery中的ajax操作，再将ajax的原生实现和封装。
- 特点：无需刷新页面，也可以进行请求响应处理（局部刷新）



### 同步和异步的概念

#### 单线程和js语言特性回顾

> js的语言特性
>
> - js是弱类型语言
> - js是动态语言
> - js是脚本语言
> - js是基于对象的语言(面向对象语言)
> - js是基于原型的语言
> - js是事件驱动的语言
> - **js是单线程的语言**
>   - 单线程（只有一个人干活）
>     - 因为js中具有DOM操作，例如修改元素颜色，单个线程操作不会与其他线程产生干扰
>     - es5后js也出现了多线程的概念，但是有限制，多个线程只能进行辅助操作，主线程进行控制
>   - 多线程（有好多人干活）

#### 同步和异步

- 同步任务：
  - **执行顺序：代码按顺序从上往下一个一个执行。**
  - 同步任务有哪些：除了异步任务都是同步任务。

- 异步任务：
  - 为什么要有异步任务: 因为某些任务较为耗时，或执行时间不确定，为了避免卡住（阻塞）后续代码，设置为异步任务。
  - **常见异步任务有哪些：**
    - 定时器
      - 示例：无论定时器的时间为多少，都会比同步任务执行晚。
    - Ajax
  - **执行顺序：异步任务的执行一定晚于同步任务**

## $.get()的使用

- 没有请求参数，不接收响应数据

```js
$.get(地址); // 通过浏览器调试工具的network查看请求的细节和响应的数据
```

- 没有请求参数，接收响应数据

```js
$.get(地址, function(res) {
  // 响应接收完毕后，执行回调函数
  // res代表响应的数据，如果res为JSON格式，jQuery会自动转换
});
```

- 有请求参数，接收响应数据
  - 请求参数：请求中发送给服务端的数据

```js
$.get(地址, 请求参数组成的对象, 回调函数);
```

## $.post()的使用

- 没有请求参数，不接收响应数据

```js
$.post(地址); // 通过浏览器调试工具的network查看请求的细节和响应的数据
```

- 没有请求参数，接收响应数据

```js
$.post(地址, function(res) {
  // 响应接收完毕后，执行回调函数
  // res代表响应的数据，如果res为JSON格式，jQuery会自动转换
});
```

- 有请求参数，接收响应数据
  - 请求参数：请求中发送给服务端的数据

```js
$.post(地址, 请求参数组成的对象, 回调函数);
```

## $.ajax()的使用

- type表示请求方式，默认为'GET'，可以设置为'GET'/'POST'

- url表示请求地址
  - 只有url属性是必须设置的
- data表示请求参数，对象结构
- success表示响应成功时的处理函数
  - res参数，表示响应内容

```js
// 1 使用$.ajax()发送GET请求
    /* $.ajax({
      // type: 'GET', // 默认为GET，一般发送GET请求时，都不设置type
      url: 'http://192.168.141.45:3005/common/get',
      data: {
        name: 'jack',
        age: 18,
        gender: '男'
      },
      success: function (res) {
        console.log(res);
      }
    }); */



    // 2 使用$.ajax()发送POST请求
    $.ajax({
      type: 'POST',
      url: 'http://192.168.141.45:3005/common/post',
      data: {
        width: 200,
        height: 600,
        bgc: 'red'
      },
      success: function (res) {
        console.log(res);
      }
    });
```



> (了解) $.get() / $.post()与 $.ajax()的关系
>
> $.ajax是jQuery中设置的一个用来进行ajax请求发送的方法$.get() $.post()只是调用了$.ajax()实现的功能

## 接口的概念

- 接口：电源接口    usb接口     网线接口    type-c接口
  - 概念：接口指的是**能够提供某种能力**的事物。
- 应用程序编程接口（API）
  - 概念：提供应用程序编程能力的事物
  - 以前学习过的API
    - WebAPI
      - 浏览器提供的，与web开发相关的一些API，本质上就是一堆属性方法
    - 内置对象API
      - js解析器提供的，用于js基础语法操作的一些API，本质上就是一堆属性方法
    - （回顾）js的组成部分和浏览器的主要构成
      - 浏览器的两个主要构成部分
        - 内核(渲染引擎): html和css渲染，WebAPI
        - js解析器：执行ECMAScript
      - 规范相关内容：
        - w3c规范：html css webAPI
        - ECMA规范：语法(含内置对象)

- 数据接口：
  - 概念：数据接口是**能够提供数据的**一种事物。表现形式就是一个URL
    - **简单来说，能够提供数据的一个URL地址，就称为是数据接口**
  - 小说明：当我们进行前端和后端(服务器)交互时，所说的'**接口**'，指的就是数据接口。
  - 使用方式：
    - **严格遵守接口的文档进行操作即可。**